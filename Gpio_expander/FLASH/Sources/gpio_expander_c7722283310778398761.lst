Decoder V-5.0.33 Build 14019, Jan 20 2014
Options: -ArgFileSources/gpio_expander_c.args -Env"GENPATH=D:/workspace/Gpio_expander/Project_Headers;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/device/src;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/lib;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/src;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/device/include;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/include;C:\Freescale\CW MCU v10.7\eclipse\../MCU/lib/hc08c/device/asm_include;D:/workspace/Gpio_expander/Generated_Code;D:/workspace/Gpio_expander/Sources" -EnvOBJPATH=. -EnvTEXTPATH=. -OSources\gpio_expander_c.lst -ViewHidden -WmsgFob"%f%e:%l:%k:%d %m\n"
Decoding File: 'Sources\gpio_expander_c.obj'
File format: ELF/DWARF

DISASSEMBLY OF: '.text' FROM 452 TO 547 SIZE 95 (0X5F)
Opening source file 'D:/workspace/Gpio_expander\Sources\gpio_expander.c'
   20: void write_expander(unsigned char value){
write_expander:
00000000 87       PSHA   
00000001 A7FD     AIS    #-3
   21:   unsigned char buffer[3]={ADDRESS_W,GPIO,0x00};
00000003 A640     LDA    #0x40
00000005 9EE701   STA    1,SP
00000008 A609     LDA    #0x09
0000000A 9EE702   STA    2,SP
0000000D 4F       CLRA   
0000000E 9E6F03   CLR    3,SP
   22:   buffer[2]=value;
00000011 9EE604   LDA    4,SP
00000014 9EE703   STA    3,SP
   23:   init_spi_buffer(&expander.expander,buffer,3);
00000017 450000   LDHX   #expander
0000001A 89       PSHX   
0000001B 8B       PSHH   
0000001C 95       TSX    
0000001D AF02     AIX    #2
0000001F A603     LDA    #0x03
00000021 CD0000   JSR    init_spi_buffer
00000024 A702     AIS    #2
   24:   spi_transfer(&expander.expander);
00000026 450000   LDHX   #expander
00000029 CD0000   JSR    spi_transfer
   25: }
0000002C A704     AIS    #4
0000002E 81       RTS    
   27: unsigned char read_register(unsigned char reg){
read_register:
0000002F 87       PSHA   
00000030 A7FD     AIS    #-3
   28:   unsigned char buffer[3]={ADDRESS_R,0x00,0x00};
00000032 A641     LDA    #0x41
00000034 9EE701   STA    1,SP
00000037 4F       CLRA   
00000038 9E6F02   CLR    2,SP
0000003B 9E6F03   CLR    3,SP
   29:   buffer[1]=reg;
0000003E 9EE604   LDA    4,SP
00000041 9EE702   STA    2,SP
   30:   init_spi_buffer(&expander.expander,buffer,3);
00000044 450000   LDHX   #expander
00000047 89       PSHX   
00000048 8B       PSHH   
00000049 95       TSX    
0000004A AF02     AIX    #2
0000004C A603     LDA    #0x03
0000004E CD0000   JSR    init_spi_buffer
00000051 A702     AIS    #2
   31:   spi_transfer(&expander.expander);
00000053 450000   LDHX   #expander
00000056 CD0000   JSR    spi_transfer
   32:   return expander.expander.buffer[7];
00000059 C60007   LDA    expander
   33: }
0000005C A704     AIS    #4
0000005E 81       RTS    

